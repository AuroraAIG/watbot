# Реферальная система Telegram

{% embed url="https://www.youtube.com/watch?v=2zfzIdfduG4" %}

Разработали бесконечную реферальную систему, сколько уровней выбрать в реферальной программе —  решать вам! Для этого мы сделали специальное API для получения информации о рефералах — [https://docs.watbot.ru/rabota-s-api/kontakty/referalnaya-sistema](https://vk.com/away.php?to=https%3A%2F%2Fdocs.watbot.ru%2Frabota-s-api%2Fkontakty%2Freferalnaya-sistema\&cc\_key=)

С помощью метода API getCountReferrals можно указать линию (параметр level) по которой считать количество рефералов.

Чтобы отправить реферальную ссылку пользователю, добавьте в текст сообщения бота: **`{{ getTelegramInviteLink() }}`**

![](../../../.gitbook/assets/J0Q5zT26\_MI.jpg)

### Вы можете:

* работать с любым уровнем рефереров и рефералов в режиме реального времени&#x20;
* изменить реферера даже если текущий контакт имеет своих рефералов

### 1. `{{ getTelegramInviteLink() }}` - Реферальная ссылка контакта в телеграм боте

### 2. `{{ getTelegramReferrals() }}` - Получить список рефералов контакта первой линии (последние 100 шт).

Получить первые 10 рефералов: `{{ getTelegramReferrals(10) }}`\
Получить первые 20 рефералов с тегом "Купил": `{{ getTelegramReferrals(20,  "Купил") }}`

Работает в режиме реального времени

### 3. `{{ getTelegramReferralsCount() }}` - Получить количество рефералов всей сети контакта (всех уровней).

Получить количество рефералов с тегом "Купил": `{{ getTelegramReferralsCount("Купил") }}`

Работает в режиме реального времени

### 4. `{{ getTelegramReferrer() }}` - Получить своего реферера

* работает в режиме реального времени&#x20;
* нет ограничения по количеству линий для получения реферера

### &#x20;5. `{{ getTelegramLinkBySchema(123) }}`, где 123 - id сценария - Получить ссылку на сценарий

Особенности: Если ссылка на доп. сценарий не была создана ранее в разделе Каналы -> Telegram -> Прямые ссылки на дополнительные сценарии, то она создается автоматически

### 6. `{{ getTelegramInviteLinkWithSchema(123) }}`, где 123 - id сценария - Получить реферальную ссылку на дополнительный сценарий

### 7. `{{ getTelegramReferralsByDepth() }}`, – получить список рефералов указанной линии

* работает в режиме реального времени&#x20;
* нет ограничения по количеству линий для получения рефералов , вы можете получить рефералов хоть 100-го уровня
* имеется возможность получить рефералов любой линии с содержанием тега, пример: `{{ getTelegramReferralsByDepth(100, 10, "ИмяТега") }}`

### 8. `{{ getTelegramReferralsCountByDepth() }}` – получить количество рефералов на указанной линии

* `{{ getTelegramReferralsCountByDepth(20) }}` – получить количество рефералов 20 линии&#x20;
* `{{ getTelegramReferralsCountByDepth(5, "Купил") }}` - получить количество рефералов 5 линии, которые содержат тег «Купил»

### 9. `{{ getTelegramReferrers(10) }}` - вывести 10 рефереров

### 10. `{{ getTelegramReferrers(10, 0, "купил") }}` - вывести 10 рефереров c тегом купил&#x20;

### 11. `{{ getTelegramReferrers(10, 5, "купил") }}` - вывести 10 рефереров c тегом купил начиная с 5-го уровня

### Ссылки

**`{{ getDirectTelegramInviteLink() }}`** - прямая пригласительная ссылка через главный сценарий&#x20;

**`{{ getDirectTelegramInviteLink(123) }}`** - прямая пригласительная ссылка через сценарий 123
