# Переключатель

Иногда требуется распределить трафик пользователей по разным веткам сценария исходя из каких-то условий, для этого вы можете воспользоваться блоком [Условие](https://vk.com/@watbot-novyi-blok-uslovie). Но в таком случае направить трафик возможно только по двум веткам, клиент подходит под условие, либо не подходит.

![Блок Условие](../../../../../.gitbook/assets/XmvjXjs1SVE.jpg)

Перед нами встала задача распределить трафик пользователей по множеству веток сценария исходя из заданных условий. Для этого мы разработали новый блок **Переключатель**. Нажмите на кнопку **Добавить блок** в правом верхнем углу сценария, затем выберите этот блок во вкладке **Эксперт**.

![](../../../../../.gitbook/assets/l3ToWC3-o4U.jpg)

В настройках блока вы можете добавить несколько условий.

![](../../../../../.gitbook/assets/GEafWv9wrC8.jpg)

![](../../../../../.gitbook/assets/hEuOpDFADeE.jpg)

Условия проверяются последовательно от верхнего к нижнему, срабатывает первое подходящее условие. Если ни одно условие не подошло, то срабатывает условие «По умолчанию», по тому же принципу как и «Любая другая фраза» в других блоках.

Поддерживаются следующие типы условий:

* &#x20;Сообщение содержит текст
* Сообщение совпадает с текстом
* Контакт содержит теги
* Контакт не содержит теги
* Контакт имеет установленное количество рефералов



Таким образом появилась возможность сегментировать трафик по разным сценариям, так же создавать простые разговорники опираясь на тип условия «Сообщение содержит текст».



{% embed url="https://www.youtube.com/watch?v=NWMDDDkTf0U" %}
