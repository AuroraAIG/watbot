# Цепочка сообщений

Цепочка из сообщений, которые последовательно приходят клиенту.&#x20;

К простому сообщению нельзя прикрепить медиа-файлы, вместо этого используйте цепочку сообщений.

![](../../../.gitbook/assets/bfya258DnoE-2.jpg)

При добавлении нового блока просто выберите соответствующий пункт меню.

{% hint style="warning" %}
Обратите внимание на то, что без текста или файла блок не будет работать, даже при наличии кнопок в нем, а значит бот не будет двигаться по цепочке(если цепочка сообщений без текста в середине сценария) и запускаться (если такой блок в начале)
{% endhint %}

Цепочка сообщений настраивается как обычный блок.

![Настройки блока «Цепочка сообщений»](../../../.gitbook/assets/3M4zXdbgQb8.jpg)

Сообщения могут быть разных типов:&#x20;

* текст
* фото
* видео (бывают случаи, когда Телеграм может растягивать видео. Попробуйте поменять формат или размер),
* аудио
* документ

Одна цепочка вмещает в себя до 10 сообщений.

Сообщения можно сортировать, просто перенесите мышкой нужно сообщение в нужное место вашей цепочки.

Для медиа-файлов внедрили встроенный плеер.

Так же при загрузке медиа теперь показывается прогресс загрузки, актуально для больших файлов.

С помощью этого блока возможно выводить следующие константы:

* полное имя,
* имя,
* фамилия,
* телефон,
* email,
* адрес,
* username.

В данном блоке доступен следующий дополнительный функционал:

* отключение предпросмотра ссылок в Телеграм

<figure><img src="../../../.gitbook/assets/7 (1).jpg" alt=""><figcaption></figcaption></figure>

* доставка сообщений без звука в Телеграм

<figure><img src="../../../.gitbook/assets/8 (1).jpg" alt=""><figcaption></figcaption></figure>

* защищенный контент в Телеграм (запрет на пересылку сообщений)

<figure><img src="../../../.gitbook/assets/9 (2).jpg" alt=""><figcaption></figcaption></figure>

* подмена сообщения в Телеграм при нажатии на инлайн-кнопку (т.е. при нажатии на инлайн-кнопку вместо отправки сообщения оно заменит то, где была нажата кнопка).&#x20;

Обратите внимание, что подмена сообщений работает         только если предыдущее сообщение было текстовое. Т.е. если у вас в сценарий было "цепочка сообщений" + условие + "цепочка сообщений" с подменой предыдущего, это не сработает т.к. предыдущее сообщение было не текстовое.

Также следует учитывать что подмена сообщений работает только для однотипных сообщений, т.е. картинка может подменять только картинку.

<figure><img src="../../../.gitbook/assets/10 (3).jpg" alt=""><figcaption></figcaption></figure>

В кнопках доступна обработка простых функций:

Список простых функций:

•sum()

•diff()

•div()

•multiplication

•сумма()

•разность()

•деление()

•произведение()

•rand()

•strRandom()

•time()

•date()

•substr()

\*Список может пополняться

<figure><img src="../../../.gitbook/assets/13 (1).jpg" alt=""><figcaption></figcaption></figure>

{% embed url="https://www.youtube.com/watch?v=6nNiwfCMjoo" %}
